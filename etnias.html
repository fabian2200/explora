<!DOCTYPE html>
<html style="max-height: 100vh; overflow: hidden;">

    <head>
        <!-- Meta -->
        <meta charset="utf-8">
        <title>Etnias de Colombia</title>
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no">
        <meta name="description" content="Vector Europe map with clickable states and pins, an example of using Mapplic, a premium custom interactive map plugin to display custom image or vector (SVG) maps.">
        <link rel="stylesheet" type="text/css" href="css/style.css">
        <link rel="stylesheet" type="text/css" href="css/map.css">
        <link rel="stylesheet" type="text/css" href="mapplic/mapplic.css">
        <link rel="stylesheet" href="bootstrap/bootstrap.min.css">
        <link rel="stylesheet" href="fontawesome/css/all.min.css">
        <link rel="stylesheet" href="css/chat.css">
        <link rel="stylesheet" href="mapplic/menu.css">
        <link rel="stylesheet" href="mapplic/quiz.css">
        <link rel="stylesheet" href="sweetalert/sweetalert2.min.css">
        <script src="sweetalert/sweetalert2.all.min.js"></script>
        <link rel="stylesheet" href="css/utilidad.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="shortcut icon" href="juegos/images/Isotipo.png">

        <script src="driver/driver.js.iife.js"></script>
        <link rel="stylesheet" href="driver/driver.css"/>

        <style>

            .mapplic-tooltip-description figure {
                text-align: center;
            }

            .mapplic-tooltip-description span {
                font-family: 'Comic Sans MS', cursive, sans-serif !important;
            }

            .mapplic-tooltip-description p {
                font-family: 'Comic Sans MS', cursive, sans-serif !important;
                font-size: 15px;
            }

            .mapplic-tooltip-content {
                scroll-behavior: inherit !important;
            }

            .mapplic-tooltip-title {
                color: #515050;
                font-size: 18px;
                margin: 0 0px 5px 0;
                font-weight: bold;
            }

            .mapplic-clickable:not(g):hover, g.mapplic-clickable:hover > * {
                stroke: #ff0000be !important;
                opacity: 0.8;
                fill: #ffffff78 !important;
                stroke-width: 9px !important;
            }

            .mapplic-active, a.mapplic-active > path, g.mapplic-active > * {
                stroke: #ff0000be !important;
                opacity: 0.8;
                fill: #ffffff78 !important;
                stroke-width: 9px !important;
            }

            .mapplic-container {
                background-color: #f8f8f8;
                display: inline-block;
                overflow: hidden;
                position: relative;
                width: 80%;
                height: 100%;
            }

            .mapplic-sidebar {
                background-color: #f8f8f8;
                width: 20%;
                height: 100%;
                float: left;
                position: relative;
            }


            .mapplic-tooltip {
                background-color: #fff;
                border-radius: 2px;
                box-shadow: 0 0 6px rgba(0, 0, 0, 0.2);
                display: none;
                max-width: 600px;
                min-width: 120px;
                margin-top: -76px;
                padding: 8px;
                position: absolute;
                -webkit-transition: margin 0.1s;
                -moz-transition: margin 0.1s;
                transition: margin 0.1s;
            }

            .multimedia-div {
                width: 71px;
                height: 100%;
                background-color: #ffffff00;
                position: absolute;
                right: -75px;
                z-index: 333;
                top: 0%;
                display: flex;
                justify-content: center !important;
                flex-direction: column !important;
                align-items: center !important;
                box-shadow: none;
                padding-right: 10px;
            }

            .mapplic-sidebar {
                background-color: #f8f8f8;
                width: 30%;
                height: 100%;
                float: left;
                position: relative;
            }

            .mapplic-container {
                background-color: #f8f8f8;
                display: inline-block;
                overflow: hidden;
                position: relative;
                width: 70%;
                height: 100%;
            }
        </style>
    </head>

    <body style="overflow: hidden; max-height: 100vh;">
        <div id="wrap">
            <div id="content">
                <section id="map-section" class="inner over">
                    <div class="editor-window">
                        <div class="window-mockup brown"></div>
                        <div class="editor-body"> <code>
								{<br>
								&nbsp;&nbsp;&nbsp;"id": "newlandmark",<br>
								&nbsp;&nbsp;&nbsp;"title": "New Landmark",<br>
								&nbsp;&nbsp;&nbsp;"description": "Creating a new landmark is that easy!",<br>
								&nbsp;&nbsp;&nbsp;"x": "<span class="mapplic-coordinates-x">0.0000</span>",<br>
								&nbsp;&nbsp;&nbsp;"y": "<span class="mapplic-coordinates-y">0.0000</span>",<br>
								&nbsp;&nbsp;&nbsp;...<br>
								}
							</code> </div>
                    </div>
                    <div class="map-container">
                        <div id="mapplic"></div>
                    </div>
                </section>
            </div>
        </div>

        <div class="options scroll-container" id="opciones_mapa">
            <i onclick="cerrarOpciones()" style="cursor: pointer; color: #c94141; font-size: 27px; position: absolute; right: 4px; top: 24px;" class="fa-solid fa-circle-xmark"></i>
            <br>
            <h4 style="color: grey;">CONTENIDO</h4>
            <hr>
            <button style="background-color: #c0ffcf !important;" class="accordion">Sitios de interes</button>
            <div class="panel">
                <ul style="padding-left: 7px;" id="sitios_interes_panel"></ul>
            </div>

            <button style="background-color: #bbd7f5 !important;" class="accordion">Festividades</button>
            <div class="panel">
                <ul style="padding-left: 7px;" id="festividades_panel"></ul>
            </div>

            <button style="background-color: #f5e1bb !important;" class="accordion">Etnias</button>
            <div class="panel">
                <ul style="padding-left: 7px;" id="etnias_panel"></ul>
            </div>
            <br>
        </div>

        <div id="chat">
            <div class="chat_window">
                <div class="top_menu">
                    <div class="buttons">
                        <div class="button close" onclick="cerrarChat()"></div>
                        <div class="button minimize"></div>
                        <div class="button maximize"></div>
                    </div>
                    <div class="title">Chat</div>
                </div>
                <ul style="height: 80%; overflow-y: auto;" class="messages"></ul>
                <div class="bottom_wrapper">
                    <div class="message_input_wrapper">
                        <input type="text" id="message_input" class="message_input" placeholder="Escribe un mensaje..." />
                    </div>
                    <div class="send_message" id="enviar_mensaje">
                        <i class="fa fa-paper-plane" aria-hidden="true"></i>
                    </div>
                </div>
            </div>
        </div>

        <div class="modal fade" id="myModal" data-backdrop="static" data-keyboard="false">
            <div class="modal-dialog modal-dialog-centered">
              <div class="modal-content modal-opciones-atlas">
                <!-- Modal body -->
                <div class="modal-body">
                    <h3 class="textto_con_borde">Para mejorar la experiencia de usuario se recomienda activar la pantalla completa</h3>
                    <hr>
                    <div class="row">
                        <div class="col-md-6">
                            <button style="font-size: .89rem; width: 100%;" onclick="pantallaCompleta()" class="btn btn-success"><i class="fa-solid fa-expand"></i> Ver pantalla completa</button>
                        </div>
                        <div class="col-md-6">
                            <button style="font-size: .89rem; width: 100%;" data-dismiss="modal" class="btn btn-danger"><i class="fa-solid fa-xmark"></i> Seguir en modo normal</button>
                        </div>
                    </div>
                </div>
              </div>
            </div>
        </div>

        <div class="modal fade" id="modalOpcionesAtlas" data-backdrop="static" data-keyboard="false">
            <div class="modal-dialog modal-dialog-centered modal-xl">
              <div class="modal-content modal-opciones-atlas">
                <div class="modal-body">
                    <button class="close cerrar_modal" data-dismiss="modal"><i class="fa-solid fa-xmark"></i></button>
                    <h4 class="textto_con_borde" style="text-align: center; width: 100%;">SELECCIONE EL MAPA QUE DESEA EXPLORAR</h4>
                    <div class="row">
                        <div class="col-md-3">
                            <div class="opcion_atlas general" onclick="seleccionarTipoMapa('general')">
                                <div class="div_borroso"></div>
                                <h5 class="textto_con_borde texto_cat_mapa">MAPA GENERAL</h5>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="opcion_atlas hidrico" onclick="seleccionarTipoMapa('hidrico')">
                                <div class="div_borroso"></div>
                                <h5 class="textto_con_borde texto_cat_mapa">MAPA HÍDRICO</h5>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="opcion_atlas coordilleras" onclick="seleccionarTipoMapa('coordilleras')">
                                <div class="div_borroso"></div>
                                <h5 class="textto_con_borde texto_cat_mapa">SISTEMA MONTAÑOSO</h5>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="opcion_atlas climatico" onclick="seleccionarTipoMapa('climatico')">
                                <div class="div_borroso"></div>
                                <h5 class="textto_con_borde texto_cat_mapa">MAPA CLIMÁTICO</h5>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="opcion_atlas parques_naturales" onclick="seleccionarTipoMapa('parques_naturales')">
                                <div class="div_borroso"></div>
                                <h5 class="textto_con_borde texto_cat_mapa">PARQUES NATURALES</h5>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="opcion_atlas etnias" onclick="seleccionarTipoMapa('etnias')">
                                <div class="div_borroso"></div>
                                <h5 class="textto_con_borde texto_cat_mapa">MAPA ÉTNICO</h5>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="opcion_atlas volcanes" onclick="seleccionarTipoMapa('volcanes')">
                                <div class="div_borroso"></div>
                                <h5 class="textto_con_borde texto_cat_mapa">VOLCANES DE COLOMBIA</h5>
                            </div>
                        </div>
                    </div>
                </div>
              </div>
            </div>
        </div>

        <div id="contenedorVideo">
            <div class="content" style="background-color: #ffffff00; border: none;">
                <a style="position: absolute;color: wheat;border-radius: 50%;top: 2vh;right: 2vw;opacity: 1;font-size: 62px;z-index: 333333;" type="button"  onclick="cerrarVideo()">&times;</a>
                <div style="width: 100%; height: 100vh; top: 0px; left: 0px; position: absolute; display: flex; justify-content: center; align-items: center;">
                    <video  controls style="width: 60%;" id="video_punto" src=""></video>
                </div>    
              </div>
            </div>
        </div>

        <div id="contenedorImagenes">
            <div class="content" style="background-color: #ffffff00; border: none;">
                <a style="position: absolute;color: wheat;border-radius: 50%;top: 2vh;right: 2vw;opacity: 1;font-size: 62px;z-index: 333333;" type="button"  onclick="cerrarImagenes()">&times;</a>
                <div id="carouselExampleIndicators" style="display: flex;align-items: center;height: 100vh;" class="carousel slide">
                    <ol class="carousel-indicators">
                    </ol>
                    <div class="carousel-inner">
                    </div>
                </div>
                <div>
                    <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="sr-only">Previous</span>
                        </a>
                        <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="sr-only">Next</span>
                        </a>
                </div>
                <br>
            </div>
        </div>

        <div id="contenedorTest">
            <div class="content" style="background-color: #ffffff00; border: none; height: 100vh; display: flex ;justify-content: center;align-items: center;">
                <a style="position: absolute;color: wheat;border-radius: 50%;top: 2vh;right: 2vw;opacity: 1;font-size: 62px;z-index: 333333;" type="button"  onclick="cerrarTest()">&times;</a>
                <br>
                <div class="container-fluid">
                    <div class="modal-dialog modal-lg">
                      <div class="modal-content">
                            <div class="modal-header" style="align-items: center; justify-content: space-between; padding: .5rem .5rem;">
                                <div class="alert alert-primary" style="margin: 0px;" role="alert">
                                    <strong>Departamento: </strong><span id="departamento_nombre"></span>
                                  </div>
                                <div class="tiempo_restante">
                                    Tiempo restante
                                    <span id="reloj">
                                        <i style="line-height: inherit; margin-top: 3px;" class="fa fa-clock" aria-hidden="true"></i>
                                        <p style="margin: 0px; padding-left: 10px;" id="contador">00:00</p>
                                    </span>
                                </div>
                            </div>
                            <div class="modal-body quizmodal">
                                <div class="modal-body quizmodal" style="display: flex; justify-content: center; align-items: center; text-align: center;">
                                    <h2>Esta función solo está disponible para el mapa general, por favor seleccione el mapa general para poder utilizar esta función</h2>
                                </div>
                            </div>
                            <div class="modal-footer text-muted" style="justify-content: space-between;">
                                <p style="color: rgb(62, 113, 255); font-weight: bold;" id="contador_preguntas">Pregunta 0 de 10</p>
                                <div style="font-size: 30px;">
                                    <i id="carita0" class="fa facaritas fa-smile" aria-hidden="true"></i>
                                    <i id="carita1" class="fa facaritas fa-smile" aria-hidden="true"></i>
                                    <i id="carita2" class="fa facaritas fa-smile" aria-hidden="true"></i>
                                    <i id="carita3" class="fa facaritas fa-smile" aria-hidden="true"></i>
                                    <i id="carita4" class="fa facaritas fa-smile" aria-hidden="true"></i>
                                    <i id="carita5" class="fa facaritas fa-smile" aria-hidden="true"></i>
                                    <i id="carita6" class="fa facaritas fa-smile" aria-hidden="true"></i>
                                    <i id="carita7" class="fa facaritas fa-smile" aria-hidden="true"></i>
                                    <i id="carita8" class="fa facaritas fa-smile" aria-hidden="true"></i>
                                    <i id="carita9" class="fa facaritas fa-smile" aria-hidden="true"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="circularMenu" class="circular-menu">
            <a class="floating-btn custom-button button-orange" id="btn_menu_circular" onclick="document.getElementById('circularMenu').classList.toggle('active');">
                <i class="fa fa-plus"></i>
            </a>
            
            <menu class="items-wrapper">
                <a id="btn_menu_opciones_atlas" href="#" class="menu-item itemm1" data-toggle="modal" data-target="#modalOpcionesAtlas">
                </a>
                <a id="btn_menu_juegos" href="juegos/index.html" target="_blank" class="menu-item itemm2">
                </a>
                <a id="btn_menu_test" href="#" class="menu-item itemm3" type="button" onclick="verTest()">
                </a>
                <a id="btn_menu_chat" href="#" class="menu-item itemm4" onclick="mostrarChat()">
                </a>
                <a id="btn_menu_linea_tiempo" href="lineaTiempo/index.html" target="_blank" class="menu-item itemm5">
                </a>
                <a id="btn_menu_viaja_ped" href="ViajaPED/index.html" target="_blank" class="menu-item itemm6">
                </a>
            </menu>
        </div>

        <div id="menuAccesibilidad" style="z-index: 9999999;" class="menu-accesibilidad">
            <button class="btn-accesibilidad" id="btn_menu_accesibilidad" onclick="toggleMenuAccesibilidad()">
                <i class="fa fa-universal-access"></i>
            </button>
            <div class="contenido-accesibilidad">
                <h4>Accesibilidad</h4>
                <div class="opciones-accesibilidad">
                    <div class="row" style="margin: 0px;">
                        <div class="col-6" style="padding-left: 10px; padding-right: 10px;">
                            <button onclick="aumentarFuente()" id="btn_aumentar_fuente" class="btn-opcion">
                                <i class="fa fa-text-height"></i> Aumentar texto
                            </button>
                        </div>
                        <div class="col-6" style="padding-left: 10px; padding-right: 10px;">
                            <button onclick="disminuirFuente()" id="btn_disminuir_fuente" class="btn-opcion">
                                <i class="fa fa-text-height"></i> Disminuir texto
                            </button>
                        </div>
                    </div>
                    <div class="row" style="margin: 0px;">
                        <div class="col-6" style="padding-left: 10px; padding-right: 10px;">
                            <button onclick="toggleDislexia()" id="btn_modo_dislexia" class="btn-opcion">
                                <i class="fa fa-book"></i> Modo dislexia
                            </button>
                        </div>
                        <div class="col-6" style="padding-left: 10px; padding-right: 10px;">
                            <button onclick="iniciarTour('etnias')" id="btn_tutorial" class="btn-opcion">
                                <i class="fa fa-question-circle"></i> Tutorial de uso
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div style="display: none; text-align: center;" id="final" class="final">
            <img id="imagen_final" style="height: 55vh;" src="images/derrota.gif" alt="">
            <br>
            <hr>
            <div class="row" style="padding: 7vh;">
                <div class="col-12" style="padding-bottom: 6vh; margin-top: 0px;">
                    <h1 style="color: #5d5656; font-weight: 700; font-size: 25pt; padding-bottom: 0px;" class="borde2" id="texto_final"></h1>
                    <h1 style="color: #5d5656; font-weight: 700; font-size: 25pt;" class="borde2">¿Quieres intentar nuevamente?</h1>
                </div>
                <div class="col-3"></div>
                <div class="col-3 text-center">
                    <button style="width: 80%;border-radius: 20pt; font-size: 23px;" onclick="window.location.reload(1)"
                        class="btn btn-success">Si</button>
                </div>
                <div class="col-3 text-center">
                    <button style="width: 80%; border-radius: 20pt; font-size: 23px;" onclick="$('#final').fadeToggle(1000);" class="btn btn-danger">No,
                        salir</button>
                </div>
                <div class="col-3"></div>
            </div>
        </div>

        <!-- Scripts -->
        <script type="text/javascript" src="js/jquery.min.js"></script>
        <script type="text/javascript" src="js/hammer.min.js"></script>
        <script type="text/javascript" src="js/jquery.easing.js"></script>
        <script type="text/javascript" src="js/jquery.mousewheel.js"></script>
        <script type="text/javascript" src="mapplic/mapplic_generico.js"></script>
        <script type="text/javascript" src="bootstrap/bootstrap.min.js"></script>
        <script type="text/javascript" src="mapplic/verMas.js"></script>
        <script type="text/javascript" src="mapplic/js/quiz.js"></script>
        <script type="text/javascript" src="mapplic/js/general.js"></script>
        <script type="text/javascript" src="mapplic/js/chat.js"></script>
        <script>

            var acc = document.getElementsByClassName("accordion");
            var i;
            
            for (i = 0; i < acc.length; i++) {
              acc[i].addEventListener("click", function() {
                this.classList.toggle("active_acordion");
                var panel = this.nextElementSibling;
                if (panel.style.maxHeight) {
                  panel.style.maxHeight = null;
                } else {
                  panel.style.maxHeight = (panel.scrollHeight + 20) + "px";
                } 
              });
            }
        </script>

        <script type="text/javascript">

            function mostrarModal(params) {
                $('#myModal').modal("show")
            }

            mostrarModal();

            function pantallaCompleta(){
                if (document.documentElement.requestFullscreen) {
                    document.documentElement.requestFullscreen();
                } else if (document.documentElement.mozRequestFullScreen) {
                    document.documentElement.mozRequestFullScreen();
                } else if (document.documentElement.webkitRequestFullscreen) {
                    document.documentElement.webkitRequestFullscreen();
                } else if (document.documentElement.msRequestFullscreen) {
                    document.documentElement.msRequestFullscreen();
                }

                $('#myModal').modal("hide")
            }

            $(document).ready(function(){
                $('#mapplic').mapplic({
                    source: 'etnias.json',
                    mapfill: true,
                    height: 560,
                    animate: true,
                    sidebar: true,
                    search: true,
                    minimap: false,
                    locations: true,
                    deeplinking: true,
                    fullscreen: true,
                    hovertip: true,
                    developer: true,
                    maxscale: 20,
                    minscale: 1.4,
                    zoom: true, 
					searchdescription: true,
					searcheverywhere: true,
					thumbholder: true,
					hovertipdesc: true,
					alphabetical: true,
                    startScale: 1.4,
                    minZoom: 1.4,
                    maxZoom: 20,
                });

                $('.usage').click(function(e)
                {
                    e.preventDefault();
                    $('.editor-window').slideToggle(200);
                });
                $('.editor-window .window-mockup').click(function()
                {
                    $('.editor-window').slideUp(200);
                });

                $("div.bhoechie-tab-menu>div.list-group>a").click(function(e) {
                    e.preventDefault();
                    $(this).siblings('a.active').removeClass("active");
                    $(this).addClass("active");
                    var index = $(this).index();
                    $("div.bhoechie-tab>div.bhoechie-tab-content").removeClass("active");
                    $("div.bhoechie-tab>div.bhoechie-tab-content").eq(index).addClass("active");
                });
            });

            function verVideo(elemento){
                var link = elemento.getAttribute("link-video");
                document.getElementById("video_punto").setAttribute("src", link);
                
                $('#contenedorVideo').css('display', 'block');
                setTimeout(()=>{
                    $('#contenedorVideo').css('opacity', '1');
                }, 50)
            }

            function verImagenes(elemento){
                var link = elemento.getAttribute("link-imagenes");
                var linksArray = link.split(',');

                var carpeta = elemento.getAttribute("carpeta");

                $('#carouselExampleIndicators').empty();

                for (var i = 0; i < linksArray.length; i++) {
                    var carouselItem = $('<div class="carousel-item"></div>');
                    if (i === 0) {
                        carouselItem.addClass('active');
                    }
                    var img = $('<img class="d-block imagen-carrusel">');
                    img.attr('src', "maps_parques/imagenes_parques/"+carpeta+"/"+linksArray[i]);
                    carouselItem.append(img);
                    $('#carouselExampleIndicators').append(carouselItem);
                }

                $('#contenedorImagenes').css('display', 'block');
                setTimeout(()=>{
                    $('#contenedorImagenes').css('opacity', '1');
                }, 50)
            }

            function cerrarImagenes(){
                $('#contenedorImagenes').css('opacity', '0');
                setTimeout(()=>{
                    $('#contenedorImagenes').css('display', 'none');
                }, 500)
            }

            function cerrarVideo(){
                $('#contenedorVideo').css('opacity', '0');
                setTimeout(()=>{
                    $('#contenedorVideo').css('display', 'none');
                }, 500)
            }

            document.getElementById('boton_comenzar').addEventListener('click', function() {
                const owl = this.querySelector('.owl');
                owl.classList.add('flying');
                
                setTimeout(() => {
                    owl.classList.remove('flying');
                }, 2000);
            });

            // Funciones para el menú de accesibilidad
            function toggleMenuAccesibilidad() {
                const menu = document.getElementById('menuAccesibilidad');
                menu.classList.toggle('activo');
            }

            let tamañoTextoActual = 16; // Tamaño base del texto

            function aumentarFuente() {
                tamañoTextoActual += 3;
                const elementos = document.querySelectorAll('body *');
                elementos.forEach(elemento => {
                    elemento.style.fontSize = `${tamañoTextoActual}px`;
                });
            }

            function disminuirFuente() {
                tamañoTextoActual -= 3;
                const elementos = document.querySelectorAll('body *');
                elementos.forEach(elemento => {
                    elemento.style.fontSize = `${tamañoTextoActual}px`;
                });
            }

            function toggleDislexia() {
                document.body.classList.toggle('modo-dislexia');
            }
        </script>

        <script src="driver/tutorial.js"></script>
    </body>
</html>